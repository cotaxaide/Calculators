<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="author" content="Jeff Bogart, CO1/D18 Longmont TC">
	<title>Estimated Tax Worksheet</title>

<style type="text/css">
	html { background-color: #ccccaa; }
	body { background-color: #ccccaa; font-family: sans-serif; font-size: 0.9em; padding: 0 2.5% 0 2.5%; }
	button { cursor: pointer; background-color: lightgreen; }
	table { background-color: #eeeeaa; border-collapse: collapse; width: 100%; }
	h1 { text-align: left; font-size: 110%; text-decoration: underline}
	tr { vertical-align: middle; }
	input[type="number"] { text-align: right; width: 6em; }
	input[type="text"] { text-align: right; width: 6em; }
	input, select { background-color: white; }
	input:disabled,
	select:disabled {
		background-color: lightgrey;
		font-weight: bold;
		cursor: not-allowed;
	}
	textarea {
		width: calc(100% - 5px);
		max-width: calc(100% - 5px);
		height: 1.5em;
		resize: none;
		overflow: hidden;
	}
	.title { font-size:125%; font-weight: bold; }
	.instruction { text-align: right; text-decoration: italic; }
	.comment { font-style:italic; }
	.calculated { text-align: right; cursor: not-allowed; }
	.tablebreak { max-height: 5px !important; }
	.hidden { display: none; }
	.small { width: 3em !important;}
	.indent { padding-left: 1.5em; }
	.floatright { float: right; font-weight: normal; }
	.grid-container {
		display: grid;
		grid-template-columns: auto;
		background-color: #ccccaa;
		padding: 0;
	}

	.grid-item {
		background-color: #eeeeaa;
		padding: 5px;
		margin-top: 1em;
		border:1px solid black;
	}
	#FilingInfo { grid-column: 1 / 3; }
	#IncomeInfo { grid-column: 1 / 3; min-width: 63em; }
	#MFSInfo { grid-column: 2 / 3; min-width: 13em; display: none; }
	#Footnotes { grid-column: 1 / 3; }
	#About { grid-column: 1 / 3; }
	#Preliminary { color: red; }
	#TPName { width:20em; text-align:left; }
	#CGOption { display: none; }
	#QBIOOS { display: none; font-weight: bold; color: red; float: right; }
	#ClearAndPrint { width: 16em; 
		text-align:center; 
		border:0;
	       	background-color:transparent;
		z-index:2;
		position:absolute; top:0; right:1em; }
	#ClearAndPrint button { margin: 2px; }
	#FilingStatus { width: 8em; }
	#FilingInfoTbl { width: 100%; }
	#FilingInfoTbl tr td { vertical-align: top; }
	#FilingInfoTbl tr td:nth-child(1) { width: 9em; width: 9em; }
	#FilingInfoTbl tr:first-child { height: 0 }
	#FilingInfoTbl tr td:nth-child(2) { width: 8em; width: 8em; }
	#FilingInfoTbl tr td:nth-child(3) { text-align: left; min-width: 12em; }
	#FilingInfoTbl tr td:nth-child(4) { text-align: right; }
	#TaxYear { width: 6em; }
	#IncomeTable { width: 100%; }
	#IncomeTable tr,
	#MFSTable tr { height: 1.75em; border-bottom: 1px solid grey; }
	#IncomeTable tr:first-child { height: 0 }
	#IncomeTable tr td:first-child { min-width: 1em; font-weight: bold; }
	#IncomeTable tr td:nth-child(3),
	#IncomeTable tr td:nth-child(4),
	#IncomeTable tr td:nth-child(5) { width: 7em; text-align: right; }
	#IncomeTable tr:nth-child(even) { background-color: #fefeca; }
	#HSAText { font-style: italic; }
	#EdExpensesText { font-style: italic; }
	#MFSTable { min-width: 12em; }
	#MFSTable tr td:nth-child(1),
	#MFSTable tr td:nth-child(2) {
		text-align: right;
		width: 50%;
		border-left:
		1px solid grey;
		cursor: not-allowed;
	}
	#MFSTable tr:nth-child(even) { background-color: #fefeca; }
	#EdContainer,
	#MFSContainer {
		position: fixed;
		left: 0; top: 0;
	}
	#EdInputBox,
	#MFSInputBox {
		border: 5px solid black;
		position: relative;
		z-index: 10;
		width: 12em;
		background-color: yellow;
		padding: 3px;
		display: none;
	}
	#EdInputBox { width: 18em; }
	#EdInputTitle,
	#MFSInputTitle { font-weight: bold; text-decoration: underline; }
	#MFJMFSResults { border: 2px solid green; margin: 5px; font-size: 110%; }
	#MFJMFSResultsTable { width: auto; margin: auto; }
	#MFJMFSResultsTable tr:last-child { border-top: 1px solid black; }
	#MFJMFSResultsTable tr td:last-child { text-align: right; }
	#ItemizeMessage,
	#NotItemizeMessage {
		display: none;
		font-weight: bold;
	}

	#PayNotRequired { font-style: italic; color: darkgreen; float: right; }
	#Warn1116 { color: red; font-style: italic; font-weight: bold; display: none; }
	#TaxableWarning,
	#DependentWarning { color: yellow; }
	#PayChoice { float: right; }
	#payJ, #payT, #payS { width: 4em; }
	.blinking{ text-align: center; animation:blinkingText 2s infinite; }
		@keyframes blinkingText {
    			0%   { color: yellow; }
    			59%  { color: yellow; }
    			80%  { color: transparent; }
    			99%  { color: transparent; }
    			100% { color: yellow; }
		}
	@media print {
		.doPrint { display:inline; }
		.noPrint { display:none; }
		body {
			background-color: white;
			padding: 0;
			margin: 0;
			page-break-inside: avoid;
			width: calc(100% - 1em);
		}
		table {
			width: 100%;
			background-color: white;
			font-size: 95%;
			overflow: hidden;
			white-space: nowrap;
		}
		table tr {
			height: 1.8em !important;
		}
		input[type="number"] { text-align: right; width:4em; }
		input[type="text"] { text-align: right; width:4em; }
		#IncomeTable tr td:nth-child(3),
		#IncomeTable tr td:nth-child(4),
		#IncomeTable tr td:nth-child(5) {
			width: 4em;
			text-align: right;
		}
		#MFSTable { width: 11.9em; }
		#TaxYear { width: 8em; }
	}
</style>

<script src="Common_Routines.js"></script>
<script src="Tax_Calc.js"></script>
<script>
	// --------------------------------------------------------------------------------
	// Contributors:
	//	Henry Burgess		Steve Conary		Ed Farver
	//	Bill Smout		Pete Burgner		Bob Wells
	//	Jim Kaplan		Lyn Lu			Robert Williams
	//	John Swaney		Gloria Coyle		Joe Ohrazda
	//	Russ Gross		Larry Raffery		Kathleen Quinn
	//	John Arenberg		Bob Goings		Emily Lin
	//	Pete Burgner		Bob Schroer		Richar Staub
	//	Arlene Green		Bob Janesak		Fred Marker
	//	Henry Geisser		Bob Schroer		Chuck Sherman
	//	Ron Bower		Barry Schwarz		Erica Adams
	//	Fred Marker		Kathleen Quinn		Robert Sinsheimer
	//	John Onder		Steve Mauri		Steve Loesche
	//	Jim Latimer
	// --------------------------------------------------------------------------------

	// --------------------------------------------------------------------------------
	// CHANGE HISTORY	
	var VERSION = "(Version 4.04, 7/17/2025)";
	//	Removed 2020 Unemployment UCE feature
	//	Removed 2020 and 2021 non-itemizing charity deduction
	//	Removed pre 2018 exemptions and misc deduction lines
	//	Removed Widow(er) option as alias for QSS
	//var VERSION = "(Version 4.03, 7/17/2024)";
	//	Corrected inability to change Child Care numbers in MFS/MFJ mode
	//var VERSION = "(Version 4.02, 5/24/2024)";
	//	Correction to Child Care handling
	//var VERSION = "(Version 4.01, 5/23/2024)";
	//	Changed to JSON tax data files
	// --------------------------------------------------------------------------------

	var IncomeExpanded = false;
	var IncomeWasExpanded = false;
	var TY = 0;
	var FS = "MFJ"; // default
	var IncomeNoSS = 0;
	var Deductions = 0;
	var IRAActualMax = 0;
	var TPMFJ = []; // saves joint input data for MFJ/MFS comparison
	var TPMFS = []; // saves taxpayer input data for MFJ/MFS comparison
	var SPMFS = []; // saves spouse input data for MFJ/MFS comparison
	var CalcOut = [];
	var TPCalcOut = [];
	var SPCalcOut = [];
	var MFJMFSError = false;
	var MFJMFSLastId = "";
	var MFJMFSTaxDue = [];
	var TPMFJhList = []; // array of header elements
	var TPMFJiList = []; // array of input elements
	var TPMFJcList = []; // array of calculated elements
	var TYList = []; // array of tax year elements within text
	var PTYList = []; // array of prior tax year elements
	var EdtList = [];
	var EdiList = [];
	var ItemizedIsBest = "";
	var payOption = "J";
	var InTitle = []; // Titles for the MFJ/MFS comparison input box
		InTitle["ActualMedical"] = "Total unreimbursed medical expenses";
		InTitle["AdditionalTax"] = "Enter any additional taxes (Forms 4972, 6251, 8814 or 8889)";
		InTitle["AlimonyIncome"] = "Alimony received";
		InTitle["AlimonyPaid"] = "Alimony paid";
		InTitle["CCDependents"] = "Number of dependents with care";
		InTitle["CharityCash"] = "Cash gifts to charity";
		InTitle["CharityNoncash"] = "Non-cash gifts to charity";
		InTitle["ChildCareCost"] = "Child and dependent care expenses";
		InTitle["Dependent"] = "Deductions: If a dependent of another, enter earned income";
		InTitle["Dividends"] = "Ordinary dividends";
		InTitle["EdExpenses"] = "Educator expenses";
		InTitle["EducationCost"] = "Qualified education expenses paid";
		InTitle["ForeignPaid"] = "Foreign tax amount paid";
		InTitle["HSADeduction"] = "Health savings account deduction";
		InTitle["InterestIncome"] = "Taxable interest";
		InTitle["InterestPaid"] = "Interest paid";
		InTitle["IRADeduction"] = "IRA deduction";
		InTitle["IRADeductionJoint"] = "IRA deduction for MFJMFS calculations";
		InTitle["LTCapGains"] = "Net long term capital gains (or loss)";
		InTitle["NIITExpenses"] = "Net Investment Income Tax investment expenses";
		InTitle["OtherCredits"] = "Other adjustments expected (Forms 2106 &amp; 3903)";
		InTitle["OtherItemized"] = "Other miscellaneous deductions (gambling losses)";
		InTitle["OtherTaxes"] = "Other taxes";
		InTitle["QualDividends"] = "Qualified dividends";
		InTitle["QBIDividends"] = "Section 199A dividends";
		InTitle["QCD"] = "Amount of non-taxable QCD included in the IRA distribution";
		InTitle["RecoveryCredit"] = "Recovery rebate credit";
		InTitle["Refundable"] = "Other refundable credits";
		InTitle["ResidenceEnergy"] = "Residential energy and other credits";
		InTitle["RetirementCost"] = "Retirement savings contributions";
		InTitle["Royalties"] = "Other income (alimony, royalties, gambling, etc)";
		InTitle["SALTTaxesPaid"] = "State income tax or sales tax, and property taxes";
		InTitle["SavingsPenalty"] = "Penalty on early withdawal of savings";
		InTitle["Scholarships"] = "Taxable scholarships";
		InTitle["SEIncome"] = "Business income";
		InTitle["SEInsurance"] = "Health insurance cost";
		InTitle["SESEP"] = "Self-employment SEP, SIMPLE and qualified plans";
		InTitle["SS"] = "Social Security expected";
		InTitle["STCapGains"] = "Net short term capital gains (or loss)";
		InTitle["StudentLoan"] = "Student loan interest";
		InTitle["TaxExemptInt"] = "Tax-exempt interest expected";
		InTitle["TotalIRAs"] = "IRA distributions";
		InTitle["TotalPensions"] = "Pensions and annuities";
		InTitle["TotalDeductions"] = "Total deductions";
		InTitle["Unemployment"] = "Unemployment income";
		InTitle["Wages"] = "Wages, salaries, tips, etc from W-2s";

	//----------------------------------------------------------------------------------------
	function Main() {
	// This function adds tax year options to the Filing Information section
	// and establishes initial settings and arrays
	//----------------------------------------------------------------------------------------
		// Add tax year options
		var tyOptIndex = 0;
		for (var ty = _StartYear; ty <= _StopYear + 1; ty++) {
			var tyopti = document.createElement("option");
			tyopti.text = tyopti.value = ty;
			TaxYear.add(tyopti,tyOptIndex++);
		}

		TY = TaxYear.value = _DefaultYear + 1;

		// Create the data arrays and initialize inputs
		TPMFJhList = document.getElementsByClassName("wkth"); // header inputs
		TPMFJiList = document.getElementsByClassName("wkti"); // inputs
		TPMFJcList = document.getElementsByClassName("wktc"); // outputs (spans)
		TYList = document.getElementsByClassName("TY");
		PTYList = document.getElementsByClassName("PTY");
		for (j = 1; j <= 3; j++) {
			EdtList[j] = document.getElementById("Ed" + j + "AOC");
			EdiList[j] = document.getElementById("Ed" + j + "Cost");
		}

		// Clear the input array and add title to inputs
		for (j = 0; j < TPMFJiList.length; j++) {
			TPMFJiList[j].title = InTitle[TPMFJiList[j].id];
			TPMFJ[TPMFJiList[j].id] = "";
			TPMFS[TPMFJiList[j].id] = "";
			SPMFS[TPMFJiList[j].id] = "";
		}

		// Initialize with no input
		MFJMFS_Change();
		File_Change();
	} // end Main()

	//----------------------------------------------------------------------------------------
	function MFJMFS_Test(thisId) {
	//----------------------------------------------------------------------------------------
		// Check input values
		MFJMFSError = false;
		allowNegative = MFSallowNegative.checked;
		TPInput.style.backgroundColor = "white";
		SPInput.style.backgroundColor = "white";

		if (! allowNegative) {
			if ((TPInput.value < 0) || (TPInput.value === "-")) {
				TPInput.style.backgroundColor = "hotpink";
				MFJMFSError = true;
			}
			if ((SPInput.value < 0) || (SPInput.value === "-")) {
				SPInput.style.backgroundColor = "hotpink";
				MFJMFSError = true;
			}
		}
		if (isNaN(TPInput.value) && (TPInput.value !== "-")) {
			TPInput.style.backgroundColor = "hotpink";
			MFJMFSError = true;
		}
		if (isNaN(SPInput.value) && (SPInput.value !== "-")) {
			SPInput.style.backgroundColor = "hotpink";
			MFJMFSError = true;
		}

		// Disable the buttons if there's an error
		JOINTButton.style.backgroundColor = 
		SAVEButton.style.backgroundColor = (MFJMFSError) ? "hotpink" : "lightgreen" ;
		JOINTButton.style.cursor = 
		SAVEButton.style.cursor = (MFJMFSError) ? "not-allowed" : "pointer" ;
		JOINTButton.style.disabled = 
		SAVEButton.style.disabled = (MFJMFSError);

	} // end MFJMFS_Test()

	//----------------------------------------------------------------------------------------
	function MFJMFS_Change() {
	// This function adds tax year options to the Filing Information section
	//----------------------------------------------------------------------------------------

		// Change the page layout to show/hide the MFS grid section and options
		if (MFJMFS.checked) {
			MFSInfo.style.display = "block";
			IncomeInfo.style.gridColumn = "1 / 2";	
			FilingStatus.disabled = true;
			MFStogether.checked = true;
			PayChoice.style.display =
			DependentsMFS1.style.display =
			CTCDependentsMFS1.style.display =
			EICDependentsMFS1.style.display = 
			DependentsMFS2.style.display =
			CTCDependentsMFS2.style.display =
			EICDependentsMFS2.style.display = "inline";
			Pay_Change("payJ");
		}
		else {
			FilingStatus.disabled = false;
			MFStogether.checked = false;
			MFSInfo.style.display = "none";
			IncomeInfo.style.gridColumn = "1 / 3";
			PayChoice.style.display =
			DependentsMFS1.style.display =
			CTCDependentsMFS1.style.display =
			EICDependentsMFS1.style.display =
			DependentsMFS2.style.display =
			CTCDependentsMFS2.style.display =
			EICDependentsMFS2.style.display = "none";
		}
	} // end MFJMFS_Change()

	//----------------------------------------------------------------------------------------
	function File_Change() {
	// Calculates the values for filing threshold
	//----------------------------------------------------------------------------------------
		// Set FilingStatus ans TaxYear variables
		FS = FilingStatus.value;
		TY = +TaxYear.value;

		// Change tax year?
		for (j in TYList) TYList[j].innerHTML = TY;
		for (j in PTYList) PTYList[j].innerHTML = TY - 1;
		Preliminary.style.display = (_IRSValue("Preliminary")) ? "inline" : "none";
		MFSoptionText.innerHTML = (TY >= _StopYear) ? "will be living" : "lived" ;

		// Check dependent consistency
		if (IsDependent.checked) {
			TPDependents.value = 0;
			SPDependents.value = 0;
			TPEICDependents.value = 0;
			SPEICDependents.value = 0;
			TPCTCDependents.value = 0;
			SPCTCDependents.value = 0;
		}

		// Deactivate unneeded entries
		SP65.disabled = ! (FS === "MFJ");
		if (SP65.disabled) SP65.checked = false;
		SPBlind.disabled = ! (FS === "MFJ");
		if (SPBlind.disabled) SPBlind.checked = false;
		MFJMFS.disabled = (IsDependent.checked || (FS !== "MFJ"));
		if (MFJMFS.disabled) MFJMFS.checked = false;
		ChildCareCost.disabled = (FS === "MFS");
		if (ChildCareCost.disabled) ChildCareCost.value = "";
		EducationCost.disabled = (FS === "MFS");
		LYAGI.innerHTML = (FS === "MFS") ? 75:150;
		ItemizedRequiredOption.style.display = (FS === "MFS") ? "inline" : "none";
		MFSoption.style.display = (FS === "MFS" || MFJMFS.checked) ? "table-row" : "none";
		IsDependentRow.style.display = ((FS !== "HOH") && (FS !== "QSS")) ? "table-row" : "none";
		if (IsDependent.checked) {
			DependentsRow.style.display = "none";
			EICRow.style.display = "none";
			CTCRow.style.display = "none";
			if ( (! TP65.checked) && (! SP65.checked)) DependentAgeRow.style.display = "table-row";
		}
		else {
			DependentsRow.style.display = "table-row";
			EICRow.style.display = "table-row";
			CTCRow.style.display = "table-row";
			CTCage = (TY >= 2021) ? 18 : 17;
			CTCRow.title = "Total number of dependents in the tax family under age " +  CTCage;
			DependentAgeRow.style.display = "none";
		}
		if (! MFJMFS.checked) MFSInputBox.style.display = "none";
		if (MFSoption.style.display == "none") MFStogether.checked = false;
		if ((FS != "MFS") && (! MFJMFS.checked)) ItemizedRequired.checked = false;
		var NeedSPRow = ((FS === "MFJ") || ((FS === "MFS") && MFStogether.checked));
		SP65Option.style.display = (NeedSPRow) ? "inline" : "none";
		if (! NeedSPRow) SPPlan.checked = false;
		HSAText.innerHTML = "(" + _IRSValue("HSA.Individual") + " personal, "
			+ _IRSValue("HSA.Family") + " family)&sup1;";
		EdExpensesText.innerHTML = "(" + ((TY >= 2023) ? 300 : 250 ) + " maximum per TP/SP)";

		// Copy entries into arrays
		for (j in TPMFJhList) {
			j_id = TPMFJhList[j].id;
			j_type = TPMFJhList[j].type;
			j_value = TPMFJhList[j].value;
			j_checked = TPMFJhList[j].checked;
			TPMFJ[j_id] = 
			TPMFS[j_id] = 
			SPMFS[j_id] = (j_type == "checkbox") ? j_checked : j_value ;
		}
		
		// Expand the income section
		IncomeExpanded = IncomeExpand.checked || (TPEICDependents.value > 0);
		if (IncomeExpanded) IncomeWasExpanded = true;
		incomelist = document.getElementsByClassName("income");
		for (ilno = 0; ilno < incomelist.length; ilno++) {
			incomelist[ilno].style.display = (IncomeExpanded) ? "table-row" : "none";
		}

		// Expand the adjustment section
		IRAComment.innerHTML = "(" + _IRSValue("IRA.Maximum") + " per TP/SP)&sup2;";
		IExp = AdjustExpand.checked;
		itemlist = document.getElementsByClassName("adjustment");
		for (itno = 0; itno < itemlist.length; itno++) {
			itemlist[itno].style.display = (IExp) ? "table-row" : "none";
		}

		// Itemized deduction row display or not
		if (ItemizedRequired.checked) ItemizeExpand.checked = "checked";
		IExp = ItemizeExpand.checked;
		itemlist = document.getElementsByClassName("deductions");
		for (itno = 0; itno < itemlist.length; itno++) {
			itemlist[itno].style.display = (IExp) ? "table-row" : "none";
		}

		if (MFJMFS.checked) {
			TPInput.value = TPMFS["IRADeductionJoint"];
			SPInput.value = SPMFS["IRADeductionJoint"];
			MFSInputId.innerHTML = "IRADeduction";
			Do_Inputs("MFJMFS");
		}
		else {
			Input_Change("NoInput");
		}
	} // end File_Change()

	//----------------------------------------------------------------------------------------
	function Get_Inputs(thisId, allowNegative) {
	// This function gets inputs for taxpayer and spouse for MFJMFS comparison
	//----------------------------------------------------------------------------------------
		if (allowNegative === undefined) allowNegative = false;

		if (thisId === "listener") { // scrolling or resizing
			if (MFSInputBox.style.display == "block") {
				thisId = MFSInputId.innerHTML;
				if (thisId == "") {
					MFSInputBox.style.display = "none";
					MFJMFSLastId = "";
					return;
				}
			}
			else if (EdInputBox.style.display == "block") {
				thisId = "EducationCost";
			}
			else thisId = "";
		}
		if (thisId == "") return;

		if (thisId === "EducationCost") {
			EdInputBox.style.display = "block";
			MFSInputBox.style.display = "none";
			EdInputTitle.innerHTML = InTitle[thisId];
			Ed1Cost.focus();
			var pos = Get_Position(TPMFJiList[thisId]);
			EdInputBox.style.left = pos.x + "px";
			EdInputBox.style.top = pos.y + "px";
		}
		else if (MFJMFS.checked) {
			MFSInputBox.style.display = "block";
			EdInputBox.style.display = "none";
			TPInput.focus();
			MFSInputId.innerHTML = thisId;
			MFSInputTitle.innerHTML = InTitle[thisId];
			var pos = Get_Position(TPMFJiList[thisId]);
			MFSInputBox.style.left = pos.x + "px";
			MFSInputBox.style.top = pos.y + "px";
			if (thisId == "IRADeduction") thisId = "IRADeductionJoint";
			if (thisId !== MFJMFSLastId) {
				TPInput.value = (TPMFS[thisId]) ? TPMFS[thisId] : "";
				SPInput.value = (SPMFS[thisId]) ? SPMFS[thisId] : "";
			}
			MFSallowNegative.checked = allowNegative;
		}
		else {
			MFSInputBox.style.display = "none";
			EdInputBox.style.display = "none";
		}
	MFJMFSLastId = thisId;
	} // end Get_Inputs()

	//----------------------------------------------------------------------------------------
	function Get_Position(thisId) {
	// This function gets coordinates for the MFJMFS entry box to use
	//----------------------------------------------------------------------------------------

		var xPosition = 0;
		var yPosition = 0;
 
		while (thisId) {
			if (thisId.tagName === "BODY") {
				// deal with browser quirks with body/window/document and page scroll
				var xScrollPos = thisId.scrollLeft || document.documentElement.scrollLeft;
				var yScrollPos = thisId.scrollTop || document.documentElement.scrollTop;
 
				xPosition += (thisId.offsetLeft - xScrollPos + thisId.clientLeft);
				yPosition += (thisId.offsetTop - yScrollPos + thisId.clientTop);
				}
			else {
				xPosition += (thisId.offsetLeft - thisId.scrollLeft + thisId.clientLeft);
				yPosition += (thisId.offsetTop - thisId.scrollTop + thisId.clientTop);
			}
 
			thisId = thisId.offsetParent;
		}

		return { x: xPosition, y: yPosition };

	} // end Get_Position()

	//----------------------------------------------------------------------------------------
	function Do_Joint() {
	// This function merges inputs for joint taxpayer and spouse for MFJMFS comparison
	//----------------------------------------------------------------------------------------
		if (MFJMFSError) return; // bad input
		var joint = +TPInput.value + +SPInput.value;
		SPInput.value = Math.round(joint / 2);
		// (do not use -= in next statement)
		TPInput.value = Math.round(joint - +SPInput.value);
		Do_Inputs("MFJMFS");

	} // end Do_Joint()

	//----------------------------------------------------------------------------------------
	function Do_Inputs(inType) {
	// type		"MFJMFS" or "Education" to indicate which input box type used
	// This function gets inputs for taxpayer and spouse for MFJMFS comparison
	//----------------------------------------------------------------------------------------
		switch (inType) {
		case "MFJMFS":
			if (MFJMFSError) return; // bad input
			thisId = MFSInputId.innerHTML;
			if (thisId == "") return;
			TPMFS[thisId] = +TPInput.value;
			SPMFS[thisId] = +SPInput.value;
			if (thisId === "IRADeduction") {
				TPMFS["IRADeductionJoint"] = +TPInput.value;
				SPMFS["IRADeductionJoint"] = +SPInput.value;
				TPMFJ["IRADeductionJoint"] = +TPInput.value + +SPInput.value;
			}
			TPMFJiList[thisId].value = TPMFJ[thisId] = +TPInput.value + +SPInput.value;
			MFSInputId.innerHTML = "";
			MFSInputBox.style.display = "none";
			TPMFJiList[thisId].disabled = false;
			Input_Change(thisId, true);
			break;
		case "Education":
			EdInputBox.style.display = "none";
			TPMFJ["AOCCost"] = TPMFJ["LLCCost"] = 0;
			for (j = 1; j < EdtList.length; j++) {
				if (EdtList[j].checked) TPMFJ["AOCCost"] += +EdiList[j].value;
				else TPMFJ["LLCCost"] += +EdiList[j].value;
			}
			EducationCost.value = TPMFJ["AOCCost"] + TPMFJ["LLCCost"];
			Input_Change("EducationCost");
			break;
		default:
			break;
		}

	} // end Do_Inputs()

	//----------------------------------------------------------------------------------------
	function Input_Change(thisId, allowNegative = false) {
	// This function prepares for a recalculation due to an input change
	//   thisId		The id of the input that has changed
	//   allowNegative	optional field that indicates that the value is allowed to be neg.
	//----------------------------------------------------------------------------------------
		//if (allowNegative === undefined) allowNegative = false;

		// Check input validity
		thisElement = TPMFJiList[thisId];
		var thisVal = thisElement.value;
		if (thisId == "IRADeduction") {
			TPMFJ["IRADeductionJoint"] = thisVal;
		}

		if (thisId == "Notes") {
			notesCRLF = Notes.value.indexOf("\n");
			if (notesCRLF >= 0) Notes.value = Notes.value.substr(0,notesCRLF);
			return;
		}
		thisElement.style.backgroundColor = "white";
		if (allowNegative && (thisVal === "-")) return;
		if ((! allowNegative) && ((thisVal < 0) || thisVal === "-")) { thisElement.style.backgroundColor = "hotpink"; return; }
		if (isNaN(thisVal)) { thisElement.style.backgroundColor = "hotpink"; return; }

		// Ignore if called from init
		if (thisId === "Init") return;

		// Check inconsistencies
		QualDividends.style.backgroundColor = (+QualDividends.value > +Dividends.value) ? "hotpink" : "white" ;
		//QBIDividends may be from K-1 forms, so don't validate
		SEInsurance.disabled = SESEP.disabled = (+SEIncome.value == 0);
		if (SEInsurance.disabled) SEInsurance.value = "";
		SansInsurance.style.display = (+SEInsurance.value) ? "inline" : "none";

		if (thisId == "ForeignPaid") {
			foreignLimit = (FS != "MFS") ? 600 : 300 ;
			if (+ForeignPaid.value > foreignLimit) {
				Warn1116.style.display = "inline";
				TPMFS[thisId] = TPMFJ[thisId] = Math.min(thisVal, 600);
				if (MFJMFS.checked) {
					TPMFS[thisId] = Math.min(thisVal, 300);
					SPMFS[thisId] = Math.min(thisVal, 300);
				}
			}
			else {
				Warn1116.style.display = "none";
				Allow1116.checked = false;
			}
		}

		// Load result arrays for calculations
		if (MFJMFS.checked) { // Do all 3 returns
			// Do_Inputs has set the input values
			// For MFS, see if both itemizing is better than standard
			ItemizedRequired.checked = ! ItemizedRequired.checked;
			WhichOption = (ItemizedRequired.checked) ? "Itemized" : "Standard" ;

			TPMFS["IRADeduction"] = +TPMFS["IRADeductionJoint"];
			TPMFS["ItemizedRequired"] = ItemizedRequired.checked;
			TPCalcOut[WhichOption] = Tax_Calc(TY, "T", TPMFS);

			SPMFS["IRADeduction"] = +SPMFS["IRADeductionJoint"];
			SPMFS["ItemizedRequired"] = ItemizedRequired.checked;
			SPCalcOut[WhichOption] = Tax_Calc(TY, "S", SPMFS);


			// Recalc to get opposite results for itemizing vs standard
			ItemizedRequired.checked = ! ItemizedRequired.checked;
			WhichOption = (ItemizedRequired.checked) ? "Itemized" : "Standard" ;

			TPMFS["IRADeduction"] = +TPMFS["IRADeductionJoint"];
			TPMFS["ItemizedRequired"] = ItemizedRequired.checked;
			TPCalcOut[WhichOption] = Tax_Calc(TY, "T", TPMFS);

			SPMFS["IRADeduction"] = +SPMFS["IRADeductionJoint"];
			SPMFS["ItemizedRequired"] = ItemizedRequired.checked;
			SPCalcOut[WhichOption] = Tax_Calc(TY, "S", SPMFS);

			// Choose which is better
			MFJMFSTaxDue["Itemized"] = +TPCalcOut["Itemized"]["TaxDue"] + +SPCalcOut["Itemized"]["TaxDue"];
			MFJMFSTaxDue["Standard"] = +TPCalcOut["Standard"]["TaxDue"] + +SPCalcOut["Standard"]["TaxDue"];
			ItemizedIsBest = (MFJMFSTaxDue["Standard"] > MFJMFSTaxDue["Itemized"]);
			WhichOption = (ItemizedIsBest) ? "Itemized" : "Standard" ;
			CalcOut = TPCalcOut[WhichOption];
			Show_Results("T");
			CalcOut = SPCalcOut[WhichOption];
			Show_Results("S");

			// Now do MFJ
			TPMFJ["IRADeduction"] = +TPMFJ["IRADeductionJoint"];
			CalcOut = Tax_Calc(TY, "J", TPMFJ);
			ItemizedIsBest = CalcOut["Itemizing"];
			Show_Results("J");
		}
		else {
			// Do not use "+" to get value below - it may be a minus sign
			TPMFJ["IRADeduction"] = +TPMFJ["IRADeductionJoint"];
			TPMFS[thisId] = TPMFJ[thisId] = thisElement.value;
			CalcOut = Tax_Calc(TY, "J", TPMFJ);
			ItemizedIsBest = CalcOut["Itemizing"];
			Show_Results("J");
		}

		Do_Estimates();

	} // end Input_Change()


	//----------------------------------------------------------------------------------------
	function Show_Results(resultType) {
	// This function shows results from the CalcOut arrays
	//----------------------------------------------------------------------------------------
		// Change input data if need be
		for (j = 0; j < TPMFJiList.length; j++) {
			TagId = TPMFJiList[j].id;
			switch (resultType) {
			case "J":
				TPMFJiList[j].value = (TPMFJ[TagId]) ? TPMFJ[TagId] : "";
				break;
			case "T":
				element = document.getElementById("TP" + TagId);
				if (element == null) continue;
				element.innerHTML = (TPMFJ[TagId]) ? TPMFS[TagId] : "";
				break;
			case "S":
				element = document.getElementById("SP" + TagId);
				if (element == null) continue;
				element.innerHTML = (TPMFJ[TagId]) ? SPMFS[TagId] : "";
				break;
			default:
				break;
			}
		}

		// Enter calculated data
		QBIOOS.style.display = "none";
		for (j = 0; j < TPMFJcList.length; j++) {
			TagId = TPMFJcList[j].id;
			TagVal = CalcOut[TagId];

			// Round results
			if (! isNaN(TagVal)) TagVal = Math.round(TagVal);

			// Handle special cases
			if ((TagId == "QBIAmount") && (TagVal == -1)) {
				QBIOOS.style.display = "inline";
				TagVal = 0;
			}

			// Set the new result values
			switch (resultType) {
			case "J":
				TPMFJcList[j].innerHTML = TPMFJ[TagId] = TagVal;
				break;
			case "T":
				element = document.getElementById("TP" + TagId);
				if (element === null) continue;
				element.innerHTML = TPMFS[TagId] = TagVal;
				break;
			case "S":
				element = document.getElementById("SP" + TagId);
				if (element === null) continue;
				element.innerHTML = SPMFS[TagId] = TagVal;
				break;
			default:
				break;
			}
		}

		switch (resultType) {
		case "J":
			Standard.style.fontWeight =		(ItemizedIsBest) ? "normal" : "bold";
			Itemized.style.fontWeight =		(ItemizedIsBest) ? "bold" : "normal";
			Standard.style.textDecoration =		(ItemizedIsBest) ? "line-through" : "none";
			Itemized.style.textDecoration =		(ItemizedIsBest) ? "none" : "line-through";
			break;
		case "T":
			TPStandard.style.fontWeight =		(ItemizedIsBest) ? "normal" : "bold";
			TPItemized.style.fontWeight =		(ItemizedIsBest) ? "bold" : "normal";
			TPStandard.style.textDecoration =	(ItemizedIsBest) ? "line-through" : "none";
			TPMedical.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			TPTaxesPaid.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			TPInterestPaid.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			TPCharityTotal.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			TPItemized.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			break;
		case "S":
			SPStandard.style.fontWeight =		(ItemizedIsBest) ? "normal" : "bold";
			SPItemized.style.fontWeight =		(ItemizedIsBest) ? "bold" : "normal";
			SPStandard.style.textDecoration =	(ItemizedIsBest) ? "line-through" : "none";
			SPMedical.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			SPTaxesPaid.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			SPInterestPaid.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			SPCharityTotal.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			SPItemized.style.textDecoration =	(ItemizedIsBest) ? "none" : "line-through";
			break;
		default:
			break;
		}

		// MFJ/MFS Comparison results
		MFJResult.innerHTML = R1 = TaxDue.innerHTML;
		MFSResult.innerHTML = R2 = +TPTaxDue.innerHTML + +SPTaxDue.innerHTML;
		DiffResult.innerHTML = +MFJResult.innerHTML - +MFSResult.innerHTML;
		BestResultIsMFS = (+MFJResult.innerHTML > +MFSResult.innerHTML);
		ItemizedIsBest = (MFJMFSTaxDue["Standard"] > MFJMFSTaxDue["Itemize"]);
		ResultMessage = "Best result is " + ( (BestResultIsMFS) ? "MFS" : "MFJ" );
		if (BestResultIsMFS) {
			ResultMessage += "<br />and " + ( (ItemizedIsBest) ? "" : "not" ) + " itemizing.";
		}
		if (MFStogether.checked) {
			TPMFSMAGI = (TP65.checked) ? (+TPAGI.innerHTML + +TPTaxExemptInt.innerHTML) : 0 ;
			SPMFSMAGI = (SP65.checked) ? (+SPAGI.innerHTML + +SPTaxExemptInt.innerHTML) : 0 ;
			if ((TPMFSMAGI > _IRSValue("MedBMFSPremium")) || (SPMFSMAGI > _IRSValue("MedBMFSPremium"))) {
				ResultMessage += "<br /><br />CAUTION:<br />Filing MFS may significantly increase Medicare Part B premiums in later years.";
			}
		}
		if ((R1 < 0) || (R2 < 0)) {
			ResultMessage += "<br /><br />(Negative result indicates a refund)";
		}

		TextResult.innerHTML = ResultMessage;
		SEHIExcessMessage.style.display = (SEHIExcess.innerHTML > 0) ? "inline" : "none" ;

		// Display warning messages
		// Check for dependent limits
		DependentWarning.innerHTML = "";
		TaxableWarning.innerHTML = "";
		if (IsDependent.checked) {
			if (IsYouth.checked) { // Dependent as child
				var KiddieUnearned = +CalcOut["Gross"] - CalcOut["StudentEarned"] + +Scholarships.value;
				var KiddieLimit = +_IRSValue("Kiddie");
				if (KiddieUnearned > KiddieLimit) {
					DependentWarning.innerHTML = "Unearned income exceeds kiddie tax limit. Additional taxes (Form 8615) may apply.";
				}
			}
			else { // Dependent as relative
				var grossLimit = +_IRSValue("DepAsRel");
				if ((+CalcOut["Gross"] > grossLimit) || (+CalcOut["TaxableSS"] > 0)) {
					TaxableWarning.innerHTML = "WARNING: your income is too high to be a dependent.";
				}
			}
		}

		mustFile = (Math.round(+CalcOut["Tax"] + +CalcOut["SETax"] + +OtherTaxes.innerHTML) > 0);
		if ((FS == "MFJ") && IsDependent.checked && mustFile) {
			DependentWarning.innerHTML = "WARNING: You cannot file as MFJ and still be a dependent if filing for other than a refund of withholding.";
		}
		RefundComment.style.display = (CalcOut["TaxDue"] < 0) ? "inline" : "none" ;

		// Added for OH to allow access to results of this function's calculations
		try {
			window.parent.updateFedDataForState();	// need to catch err until all files are fully loaded
		}						// this also avoids issues when state code isn't present
		catch(err) {	// do nothing, just continue
		}

	} // end Show_Results()

	//----------------------------------------------------------------------------------------
	function Do_Estimates() {
	// This function calculates the estimated tax payments required
	//----------------------------------------------------------------------------------------
		// check inputs
		TaxLastYear.style.backgroundColor = (TaxLastYear.value < 0) ? "hotpink" : "white";
		PYAmount.style.backgroundColor = (PYAmount.value < 0) ? "hotpink" : "white";
		WHAmount.style.backgroundColor = (WHAmount.value < 0) ? "hotpink" : "white";
		OverrideAmount.style.backgroundColor = (OverrideAmount.value < 0) ? "hotpink" : "white";

		var taxdue = Math.max(0, TaxDue.innerHTML);

//		if (TotalTax.innerHTML) MaxIRA.innerHTML = "N/A";
//		else {
//			IRAgap = - TPMFJ["AGI"] + Deductions + TPMFJ["ExemptAmount"];
//			IRAcalc = 0;
//			if (TPMFJ["IRAgap00"] > 0) {
//				IRAused = Math.min(TPMFJ["IRAgap00"], IRAgap);
//				IRAcalc += IRAused;
//				IRAgap = Math.max(0,IRAgap - IRAused);
//			}
//			if (TPMFJ["IRAgap50"] > 0) {
//				IRAused = Math.min(TPMFJ["IRAgap50"], IRAgap/1.5);
//				IRAcalc += IRAused;
//				IRAequiv = IRAused * 1.5;
//				IRAgap = Math.max(0,IRAgap - IRAequiv);
//			}
//			if (TPMFJ["IRAgap85"] > 0) {
//				IRAused = Math.min(TPMFJ["IRAgap85"], IRAgap/2.35);
//				IRAcalc += IRAused;
//				IRAequiv = IRAused * 2.35;
//				IRAgap = Math.max(0,IRAgap - IRAequiv);
//			}
//			MaxIRA.innerHTML = Math.max(0,Math.floor(IRAcalc + IRAgap));
//		}

		Do_Pay();
	} // end Do_Estimates()

	//----------------------------------------------------------------------------------------
	function Pay_Change(id) {
	//----------------------------------------------------------------------------------------
		payJ.style.fontWeight =
		payT.style.fontWeight =
		payS.style.fontWeight = "normal";
		payJ.style.backgroundColor =
		payT.style.backgroundColor =
		payS.style.backgroundColor = "lightgreen";
		switch (id) {
		case ("payJ"): 
			payOption = "J";
			payJ.style.fontWeight = "bold"
			payJ.style.backgroundColor = "burlywood";
			break;
		case ("payT"):
			payOption = "T";
			payT.style.fontWeight = "bold"
			payT.style.backgroundColor = "burlywood";
			break;
		case ("payS"):
			payOption = "S";
			payS.style.fontWeight = "bold"
			payS.style.backgroundColor = "burlywood";
		       break;
		default:
		       break;
		}

		Do_Pay();

	} // end Pay_Change()

	//----------------------------------------------------------------------------------------
	function Do_Pay() {
	// This function calculates the estimated tax payments required
	//----------------------------------------------------------------------------------------
		// get tax due for payChoice option
		switch (payOption) {
		case "T": taxdue = Math.max(0, TPTaxDue.innerHTML); break;
		case "S": taxdue = Math.max(0, SPTaxDue.innerHTML); break;
		default: taxdue = Math.max(0, TaxDue.innerHTML); break;
		}

		// How much needs to be paid
		Tax90.innerHTML = taxest = Math.round(taxdue * ((Farmer.checked) ? 2/3:0.90));
		taxlast = +TaxLastYear.value;
		UseLYTax.disabled = (taxlast) ? false:true; 
		if (taxlast == 0) UseLYTax.checked = false;
		LYINC.innerHTML = (HighAGI.checked) ? 110:100;
		if (taxlast > 0) {
			//if (taxest == 0) UseLYTax.checked = true;
			if (HighAGI.checked) taxlast = Math.round(taxlast * 1.1);
			if (UseLYTax.checked) taxest = taxlast;
			EstAmount.innerHTML = Math.min(taxest,taxlast);
		}
		else {
			EstAmount.innerHTML = taxest;
		}
		if (UseTYTax.checked) EstAmount.innerHTML = taxdue;

		// Figure the voucher amounts
		if (+OverrideAmount.value > 0) vamount = +OverrideAmount.value;
		else vamount = Math.max(0,EstAmount.innerHTML - +WHAmount.value - +PYAmount.value);
		VoucherAmount.innerHTML = vamount;
		QuarterAmount.innerHTML = Math.round(vamount / 4);
		PayNotRequired.style.display = (vamount < 1000) ? "inline":"none";
	} // end Do_Pay()

</script>

</head>

<!-- ******************************************************************************************************** -->
<!-- **************************************** START OF HTML ************************************************* -->
<!-- ******************************************************************************************************** -->

<body id="theBody" onresize="Get_Inputs('listener')" onscroll="Get_Inputs('listener')">

<center>
	<span class="title"><span class="TY"></span> Estimated Tax Worksheet</span>
	<br><span id="Version"></span><script>Version.innerHTML = VERSION;</script>
</center>

<div id="ClearAndPrint" class="noPrint">
	<button onclick="window.top.location.reload()">Clear and reset calculator</button>
	<br /><button onclick="window.print()">Print a taxpayer copy</button>
</div>
	
<!-- ****************************************** FILING INFORMATION TABLE ****************************************** -->
<div class="grid-container">

<div id="FilingInfo" class="grid-item" >
	<h1>Basic Filing Information for tax year <select id="TaxYear" class="wkth" onchange="File_Change();"></select>
		<span id="Preliminary">(Some tax rate data is preliminary or estimated)</span></h1>
	<table id="FilingInfoTbl" onkeyup="File_Change();" onclick="File_Change();">
		<tr><td></td><td></td><td></td><td></td></tr>
		<tr>
			<td>Taxpayer&apos;s Name:</td>
			<td colspan="2"><input id="TPName" title="Enter the taxpayer's name. Consider printing the results for the taxpayer's record" /></td>
			<td style="text-align: right; vertical-align: top;">
				<a href="https://www.aarp.org/retirement/required-minimum-distribution-calculator/" 
					target="_blank">Click here for the AARP RMD Calculator</a></td></tr>
		<tr>
			<td>Filing Status:</td>
			<td>
				<select id="FilingStatus" class="wkth" title="Select the taxpayer's filing status.">
					<option value="SNG">Single</option>
					<option value="MFJ" selected>MFJ</option>
					<option value="MFS">MFS</option>
					<option value="HOH">HOH</option>
					<option value="QSS">QSS</option></select>
			</td>
			<td colspan="2">
				TP is
				<input id="TP50" type="checkbox" class="wkth" title="Taxpayer is age 50 - 64" onclick="if (TP50.checked) TP65.checked = false;" /> 50 - 64
				<input id="TP65" type="checkbox" class="wkth" title="Taxpayer is age 65 or older" onclick="if (TP65.checked) TP50.checked = false;" /> 65 or older
				<input id="TPBlind" type="checkbox" class="wkth" title="Taxpayer is blind" /> blind
				<input id="TPPlan" type="checkbox" class="wkth" title="Taxpayer has a retirement plan" /> has retirement plan
				<span id="SP65Option">
					<br />SP is
					<input id="SP50" type="checkbox" class="wkth" title="Spouse is age 50 - 64" onclick="if (SP50.checked) SP65.checked = false;" /> 50 - 64
					<input id="SP65" type="checkbox" class="wkth" title="Spouse is age 65 or older" onclick="if (SP65.checked) SP50.checked = false;" /> 65 or older
					<input id="SPBlind" type="checkbox" class="wkth" title="Spouse is blind" /> blind
					<input id="SPPlan" type="checkbox" class="wkth" title="Spouse has a retirement plan" /> has retirement plan
				</span></td></tr>
		<tr id="MFSoption">
			<td colspan="2"></td>
			<td colspan="2">
				<input id="MFStogether" class="wkth" type="checkbox" />
				Check if you <span id="MFSoptionText">will be living</span> with your spouse.</td></tr>
		<tr id="IsDependentRow" title="Check if either taxpayer (or spouse) can be a dependent on anyone else's return - even if not claimed!">
			<td colspan="2"></td>
			<td colspan="2">
				<input id="IsDependent" class="wkth" type="checkbox" />
				TP (or SP) is or can be a dependent on someone else's return.</td></tr>
		<tr id="DependentAgeRow">
			<td colspan="2"></td>
			<td colspan="2">
				<input id="IsYouth" "wkth" type="checkbox" />
				Dependent is 16 or younger, or a full time student and 23 or younger.</td></tr>
		<tr id="DependentsRow" title="Total number of dependents in the tax family claimed.">
			<td colspan="2">Total Dependents claimed:
			<td><span id="DependentsMFS1">TP: </span>
				<input id="TPDependents" type="number" class="small wkth" value="0" />
				<span id="DependentsMFS2">, SP: <input id="SPDependents" type="number" class="small wkth" value="0" /></span>
				</td>
			<td></td></tr>
		<tr id="EICRow" title="Number of dependents in the tax family age under age 18 (or 24 if a full time student or any age if disabled).">
			<td colspan="2">Dependents qualified for EIC:</td>
			<td><span id="EICDependentsMFS1">TP: </span>
			<input id="TPEICDependents" type="number" class="small wkth" value="0" />
				<span id="EICDependentsMFS2">, SP: <input id="SPEICDependents" type="number" class="small wkth" value="0" /></span>
				</td>
			<td></td></tr>
		<tr id="CTCRow" title="Total number of dependents in the tax family under age 17.">
			<td colspan="2">Dependents qualified for CTC:</td>
			<td><span id="CTCDependentsMFS1">TP: </span>
				<input id="TPCTCDependents" type="number" class="small wkth" value="0" />
				<span id="CTCDependentsMFS2">, SP: <input id="SPCTCDependents" type="number" class="small wkth" value="0" /></span></td>
			<td title="Check to show MFS columns" style="text-align: right;" >
				<input id="MFJMFS" type="checkbox" onchange="MFJMFS_Change();" />
				Check box for MFJ/MFS comparison
				</td></tr>
		<tr>	<td colspan="4">
				<textarea id="Notes" placeholder="(add scenario notes here)" onkeyup="Input_Change(this.id)"></textarea>
			</td></tr>
		</table>


</div> <!-- FilingInfo -->

<!-- ****************************************** INCOME WORKSHEET ****************************************** -->
<div id="IncomeInfo" class="grid-item" >
	<h1>Estimated Tax Worksheet:</h1>
	<table id="IncomeTable">
		<tr style="height:1.75em;"><td>&nbsp;</td><td></td><td></td><td></td><td></td></tr>
		<tr><td colspan="2">Income:
				(<input type="checkbox" id="IncomeExpand" checked
				onchange="File_Change();" /><i>Expand to enter details.)</i></td>
			<td colspan="3"><i>Enter Form 1040 expected amounts:</i></td></tr>
		<tr class="income"><td></td>
			<td colspan="2">Wages, salaries, tips, etc from W-2s</td>
			<td>	<input id="NoInput" type="text" class="wkti hidden" />
				<span id="TPNoInput"></span><span id="SPNoInput"></span>
				<input id="Wages" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="income"><td></td>
			<td colspan="2"> Taxable scholarships</td>
			<td><input id="Scholarships" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="income"><td></td>
			<td>Taxable interest</td><td></td>
			<td><input id="InterestIncome" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="income"><td></td>
			<td class="indent">Tax-exempt interest expected</td>
			<td><input id="TaxExemptInt" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="income"><td></td>
			<td>Ordinary dividends</td><td></td>
			<td><input id="Dividends" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="income"><td></td>
			<td class="indent">Qualified dividends</td>
			<td><input id="QualDividends" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			</tr>
		<tr class="income"><td></td>
			<td class="indent">Section 199A dividends (include any from K-1 forms)</td>
			<td><input id="QBIDividends" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			</tr>
		<tr class="income"><td></td>
			<td>IRAs distributions
				(Amount of QCD included: <input id="QCD" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" />)</td>
			<td><input id="TotalIRAs" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			<td id="IRAs" class="calculated wktc"></td></tr>
		<tr class="income"><td></td>
			<td>Pensions and annuities</td>
			<td><input id="TotalPensions" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			<td id="Pensions" class="calculated wktc"></td></tr>
		<tr class="income"><td></td>
			<td>Amount of social security expected</td>
			<td><input id="SS" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			<td id="TaxableSS" class="calculated wktc"></td></tr>
		<tr class="income"><td></td>
			<td>Business income</td><td></td>
			<!-- Get_Inputs true parameter allows negative input -->
			<td><input id="SEIncome" type="text" class="wkti"
				onfocus="Get_Inputs(this.id, true);"
				onkeyup="Input_Change(this.id, true);" /></td></tr>
		<tr class="income"><td></td>
			<td style="height: 3.2em;">Capital gains/loss
				<span style="text-align: right; float: right; right: 3px;">
					Short term gain/loss:<br />Long term gain/loss:</span></td>
			<!-- Get_Inputs true parameter allows negative input -->
			<td><input id="STCapGains" type="text" class="wkti"
				onfocus="Get_Inputs(this.id, true);"
				onkeyup="Input_Change(this.id, true);" />
			<br /><input id="LTCapGains" type="text" class="wkti"
				onfocus="Get_Inputs(this.id, true);"
				onkeyup="Input_Change(this.id, true);" /></td>
			<td id="CapGains" class="calculated wktc"></td></tr>
		<tr class="income"><td></td>
			<td>Alimony (if taxable)</td><td></td>
			<td><input id="AlimonyIncome" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="income"><td></td>
			<td>Unemployment</td><td></td>
			<td><input id="Unemployment" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="income"><td></td>
			<td>Other income (rentals, royalties, etc)</td>
			<!-- Get_Inputs true parameter allows negative input -->
			<td><input id="Royalties" type="text" class="wkti"
				onfocus="Get_Inputs(this.id, true);"
				onkeyup="Input_Change(this.id, true);" /></td>
			<td id="OtherIncome" class="calculated wktc"></td></tr>
		<tr><td></td>
			<td colspan="3">Gross income expected</td>
			<td id="Gross" class="calculated wktc"></td></tr>
		<tr><td colspan="5">Adjustments to Income:
			(<input type="checkbox" id="AdjustExpand"
			onchange="File_Change();" /><i>Expand to enter details.)</i></td></tr>
		<tr class="adjustment"><td></td>
			<td>Educator expenses <span id="EdExpensesText"></td>
			<td></td>
			<td><input id="EdExpenses" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="adjustment"><td></td>
			<td>Health savings account <span id="HSAText"></span></td>
			<td></td>
			<td><input id="HSADeduction" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="adjustment"><td></td>
			<td>Deductible part of self-employment tax (1/2 of SE tax shown below)</td>
			<td></td>
			<td id="SETaxCredit" class="calculated wktc">0</td></tr>
		<tr class="adjustment"><td></td>
			<td>Self-employment SEP, SIMPLE and qualified plans</td>
			<td></td>
			<td><input id="SESEP" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="adjustment" id="SEHIRow"><td></td>
			<td colspan="2">Self-employment health insurance deduction
			(Total health insurance: <input id="SEInsurance" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" />)
				<span id="SEHIExcessMessage">Excess of
					<span id="SEHIExcess" class="wktc"></span>
					will carry to Schedule A medical expenses.
				</span>
			<td id="SEHI" class="calculated wktc">0</td></tr>
		<tr class="adjustment"><td></td>
			<td>Penalty on early withdawal of savings</td>
			<td></td>
			<td><input id="SavingsPenalty" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="adjustment"><td></td>
			<td>Alimony paid (if deductible)</td>
			<td></td>
			<td><input id="AlimonyPaid" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="adjustment"><td></td>
			<td>Traditional IRA deduction <i><span id="IRAComment"></span></i>
			<input id="IRADeductionJoint" type="text" class="wkti hidden" /></td>
			<td><input id="IRADeduction" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			<td id="IRADedAvailable" type="text" class="calculated wktc" /></td></tr>
		<tr class="adjustment"><td></td>
			<td>Student loan interest</td>
			<td><input id="StudentLoan" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			<td id="SLInterest" class="calculated wktc">0</td></tr>
		<tr class="adjustment"><td></td>
			<td>Other adjustments expected (Forms 2106 &amp; 3903)</td>
			<td></td>
			<td><input id="OtherCredits" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>

		<tr><td></td>
			<td>Total adjustments
			<td></td><td></td>
			<td style="vertical-align: top;" id="Adjustments"
				type="text" class="calculated wktc"></td></tr>
		<tr><td></td>
			<td colspan="3">Adjusted gross income expected
			<td id="AGI" class="calculated wktc">0</td></tr>
<!--
		<tr><td> 2</td>
			<td>Deductions: If a dependent of another, enter earned income</td>
			<td><input id="Dependent" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td><tr>
-->
		<tr style="page-break-before: always;"><td colspan="5">Deductions:
			(<input type="checkbox" id="ItemizeExpand"
			onchange="File_Change();" /><i>Expand to enter itemized deductions.)</i></td>
		<tr><td></td>
			<td>Standard deduction</td>
			<td></td>
			<td id="Standard" class="calculated wktc">0</td></tr>
		<tr class="deductions"><td></td>
			<td>Medical expenses
				(Total expenses
				<span id="SansInsurance"><i>without insurance</i></span>
				= <input id="ActualMedical" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" />)</td>
			<td id="Medical" class="calculated wktc"></td></tr>
		<tr class="deductions"><td></td>
			<td>State income tax or sales tax, and property taxes:
			(Total paid = <input id="SALTTaxesPaid" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" />)</td>
			<td id="TaxesPaid" class="calculated wktc"></td></tr>
		<tr class="deductions"><td></td>
			<td>Interest paid</td>
			<td><input id="InterestPaid" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr class="deductions"><td></td>
			<td>Gifts to charity  - cash:
			<input id="CharityCash" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" />
			, non-cash:
			<input id="CharityNoncash" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			<td id="CharityTotal" class="calculated wktc"></td></tr>
		<tr class="deductions"><td></td>
			<td>Other miscellaneous deductions (including gambling losses)</td>
			<td><input id="OtherItemized" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr><td></td>
			<td colspan="2">Total itemized deductions
			<span id="ItemizedRequiredOption">
				(<input type="checkbox" id="ItemizedRequired" class="wkti"
				onchange="File_Change();" />
				Check if required to itemize)</span>
			</td>
			<td style="vertical-align: top;" id="Itemized"
				class="calculated wktc"></td></tr>
		<tr id="QBILine"><td></td>
			<td colspan="2">Qualified Business Income deduction
				<span id="QBIOOS"> CANNOT DETERMINE QBI DEDUCTION </span>
				</td><td></td>
			<td id="QBIAmount" class="calculated wktc">0</td></tr>
		<tr><td></td>
			<td colspan="3">Total Deductions</td>
			<td id="TotalDeductions" type="text" class="calculated wktc"></td></tr>
		<tr><td colspan="5">Taxable income:</td></tr>
		<tr><td></td>
			<td colspan="2">Taxable income</td><td></td>
			<td id="TaxableAmount" class="calculated wktc">0</td></tr>
		<tr class="tablebreak" style="background-color: black;">
			<td id="TaxableWarning" colspan="5" class="blinking"></td></tr>
		<tr><td colspan="5">Tax:</td>
		<tr><td></td>
			<td id="TaxTable" class="wktc">Tax from tax tables</td>
			<td colspan="2"id="Bracket" class="calculated wktc"></td>
			<td id="Tax" class="calculated wktc">0</td></tr>
		<tr><td></td>
			<td colspan="2">Enter any additional taxes (Forms 4972, 6251, 8814 or 8889)</td>
			<td><input id="AdditionalTax" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr><td></td>
			<td colspan="3">Total tax amounts</td>
			<td id="PreNRTax" class="calculated wktc">0</td></tr>
		<tr><td colspan="2">Nonrefundable Credits:
				<span class="floatright" style="padding-right: 1em;"><i>actual amount:</i></span></td>
			<td style="text-align: right;"><i>max available:</i></td>
			<td style="text-align: right;"><i>will use:</i></td>
		<tr><td></td>
			<td>Foreign tax credit
				<span id="Warn1116"> Form 1116 is required
					<!-- (<input id="Allow1116" type="checkbox"
					onchange="Input_Change('Allow1116');" />
					Check to allow) --></span>
				<span class="floatright">
					<input id="ForeignPaid" type="text" class="wkti"
					onfocus="Get_Inputs(this.id);"
					onkeyup="Input_Change(this.id);" /></span></td>
			<td id="ForeignTax" class="calculated wktc"></td>
			<td id="ForeignUsed" class="calculated wktc"></td></tr>
		<tr><td>  </td>
			<td>Child and dependent care expenses for
				<input id="CCDependents" type="number" class="small wkti"
				onfocus="Get_Inputs(this.id);"
				onchange="Input_Change(this.id);" /> dependents
			<span class="floatright">
				<input id="ChildCareCost" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></span></td>
			<td id="ChildCare" class="calculated wktc"></td>
			<td id="ChildCareUsed" class="calculated wktc"></td></tr>
<!--
		<tr><td>  </td>
			<td>Credit for elderly or disabled
			<span class="floatright">
				<input id="ElderlyCost" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></span></td>
			<td id="Elderly" class="calculated wktc"></td>
			<td id="ElderlyUsed" class="calculated wktc"></td></tr>
-->
		<tr><td>  </td>
			<td>Education credits
			<span class="floatright">
				<input id="EducationCost" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></span></td>
			<td id="Education" class="calculated wktc"></td>
			<td id="EducationUsed" class="calculated wktc"></td></tr>
		<tr><td>  </td>
			<td>Retirement savings contributions credit <i>(2000 per TP/SP)</i>
			<span class="floatright">
				<input id="RetirementCost" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></span></td>
			<td id="Retirement" class="calculated wktc"></td>
			<td id="RetirementUsed" class="calculated wktc"></td></tr>
		<tr><td>  </td>
			<td>Child <span id="Note2018b">and Family</span> Tax Credit</td>
			<td id="CTCredit" class="calculated wktc"></td>
			<td id="CTCreditUsed" class="calculated wktc"></td></tr>
		<tr><td>  </td>
			<td>Residential energy and other credits</td>
			<td><input id="ResidenceEnergy" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td>
			<td id="ResidentialUsed" class="calculated wktc"></td></tr>
		<tr><td></td>
			<td colspan="3">Total Nonrefundable credits:</td>
			<td id="Nonrefundable" class="calculated wktc"></td></tr>
		<tr><td></td>
			<td colspan="3">Tax amount after credits</td>
			<td id="TaxPostCredits" class="calculated wktc">0</td></tr>
		<tr><td colspan="5">Other Taxes:</td>
		<tr><td>  </td>
			<td colspan="2">Self-employment tax</td>
			<td id="SETax" class="calculated wktc">0</td></tr>
		<tr id="NIITRow"><td>  </td>
			<td colspan="2">Net Investment Income tax
			(Enter investment expenses:
			<input id="NIITExpenses" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" />)</td>
			<td id="NIITTax" class="calculated wktc">0</td></tr>
		<tr><td></td>
			<td colspan="2">Other taxes (First-time homebuyer, etc)</td>
			<td><input id="OtherTaxes" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr><td></td>
			<td colspan="3">Total after other taxes</td>
			<td id="TotalTax" class="calculated wktc">0</td></tr>
		<tr><td colspan="5">Refundable Credits:</td>
		<tr><td></td>
			<td>Earned income tax credit</td>
			<td id="EICCredit" class="calculated wktc"></td></tr>
		<tr><td>  </td>
			<td id="ACTCreditRowTitle">Additional Child Tax Credit</td>
			<td id="ACTCredit" class="calculated wktc"></td></tr>
		<tr><td>  </td>
			<td>American Opportunity Credit (enter cost in Nonrefundable Ed credits line)</td>
			<td id="AOCCredit" class="calculated wktc"></td></tr>
		<tr><td></td>
			<td>Other refundable credits <span id="SSexcess"></span></td>
			<td><input id="Refundable" type="text" class="wkti"
				onfocus="Get_Inputs(this.id);"
				onkeyup="Input_Change(this.id);" /></td></tr>
		<tr><td>  </td>
			<td colspan="3">Estimated total tax
				<span id="RefundComment">(A negative amount indicates a refund)</span></td>
			<td id="TaxDue" class="calculated wktc">0</td></tr>
		<tr class="tablebreak" style="background-color: black;">
			<td id="DependentWarning" colspan="5" class="blinking"></td></tr>
		<tr><td colspan="5">Estimated Payments Needed:
			<span id="PayChoice">
				by: 
				<button id="payJ" onclick="Pay_Change(this.id)">Joint</button>
				<button id="payT" onclick="Pay_Change(this.id)">TP</button>
				<button id="payS" onclick="Pay_Change(this.id)">SP</button>
			</span></td>
		<tr><td>  </td>
			<td colspan="2">90% of estimated total tax
				(<input id="Farmer" type="checkbox" onchange="Do_Estimates();" />
				66 2/3% for farmers and fishermen)</td>
			<td id="Tax90" class="calculated">0</td></tr>
		<tr><td>  </td>
			<td colspan = "2">
				Enter 100% of <span class="PTY"></span>&apos;s income tax
				(<input id="HighAGI" type="checkbox" onchange="Do_Estimates();" />
				Check if <span class="PTY"></span>&apos;s AGI was > $<span id="LYAGI"></span>K)</td>
			<td><input id="TaxLastYear" type="text"
				onkeyup="Do_Estimates();" /></td></tr>
		<tr><td></td>
			<td colspan="3"><b>Choose which to use...</b></td></tr>
		<tr><td style="vertical-align: top;"></td>
			<td colspan="2" class="indent" onchange="Do_Estimates();">
				<input id="UseSmall" type="radio" name="UseTax" checked="checked"
				 /> Smaller of above or ...
				 <br /><input id="UseLYTax" type="radio" name="UseTax" /> Use <span id="LYINC"></span>% of <span class="PTY"></span>&apos;s amount from the line above.
				<br /><input id="UseTYTax" type="radio" name="UseTax" /> Use 100% of the <span class="TY"></span> estimated total tax.</td>
			<td class="calculated" style="vertical-align: bottom;"><span id="EstAmount">0</span></td></tr>
		<tr><td></td>
			<td colspan="2">Refund from <span class="PTY"></span> designated as an estimated payment</td>
			<td><input id="PYAmount" type="text"
				onkeyup="Do_Estimates();" /></td></tr>
		<tr><td></td>
			<td colspan="2">Income tax withheld and/or estimated to be withheld</td>
			<td><input id="WHAmount" type="text"
				onkeyup="Do_Estimates();" /></td></tr>
		<tr><td></td>
			<td colspan="2">Balance (override if a different amount is desired:
				<input id="OverrideAmount" type="text" 
				onkeyup="Do_Estimates();" />)
				<span id="PayNotRequired"> (Payment not required if less than $1000)</span></td>
			<td class="calculated"><span id="VoucherAmount"></span></td></tr>
		<tr><td>  </td>
			<td colspan="3">Quarterly amount</td>
			<td id="QuarterAmount" class="calculated"></td></tr>
	</table>
</div> <!-- IncomeInfo -->

<!-- ****************************************** MFS/MFJ WORKSHEET ****************************************** -->
<div id="MFSInfo" class="grid-item" >
	<h1>MFS comparison:</h1>
	<table id="MFSTable"> <!-- 3rd column in each row stores hidden variables -->
		<tr><th>Taxpayer</th><th>Spouse</th><th></th></tr>
		<tr><th colspan="2">Income:</th></tr>
		<tr class="income"><td id="TPWages"></td><td id="SPWages"></td></tr>
		<tr class="income"><td id="TPScholarships"></td><td id="SPScholarships"></td></tr>
		<tr class="income"><td id="TPInterestIncome"></td><td id="SPInterestIncome"></td></tr>
		<tr class="income"><td id="TPTaxExemptInt"></td><td id="SPTaxExemptInt"></td></tr>
		<tr class="income"><td id="TPDividends"></td><td id="SPDividends"></td></tr>
		<tr class="income"><td id="TPQualDividends"></td><td id="SPQualDividends"></td></tr>
		<tr class="income"><td id="TPQBIDividends"></td><td id="SPQBIDividends"></td></tr>
		<tr class="income"><td id="TPIRAs"></td><td id="SPIRAs"></td>
			<td>	<span id="TPQCD" class="hidden"></span>
				<span id="SPQCD" class="hidden"></span>
				<span id="TPTotalIRAs" class="hidden"></span>
				<span id="SPTotalIRAs" class="hidden"></span></td></tr>
		<tr class="income"><td id="TPPensions"></td><td id="SPPensions"></td>
			<td>	<span id="TPTotalPensions" class="hidden"></span>
				<span id="SPTotalPensions" class="hidden"></span></td></tr>
		<tr class="income"><td id="TPTaxableSS"></td><td id="SPTaxableSS"></td>
			<td>	<span id="TPSS" class="hidden"></span>
				<span id="SPSS" class="hidden"></span></td></tr>
		<tr class="income"><td id="TPSEIncome"></td><td id="SPSEIncome"></td></tr>
		<tr class="income" style="height: 3.3em !important;"><td id="TPCapGains"></td><td id="SPCapGains"></td>
			<td>	<span id="TPSTCapGains" class="hidden"></span>
				<span id="SPSTCapGains" class="hidden"></span>
				<span id="TPLTCapGains" class="hidden"></span>
				<span id="SPLTCapGains" class="hidden"></span></td></tr>
		<tr class="income"><td id="TPAlimonyIncome"></td><td id="SPAlimonyIncome"></td></tr>
		<tr class="income"><td id="TPUnemployment"></td><td id="SPUnemployment"></td></tr>
		<tr class="income"><td id="TPOtherIncome"></td><td id="SPOtherIncome"></td>
			<td>	<span id="TPRoyalties" class="hidden"></span>
				<span id="SPRoyalties" class="hidden"></span></td></tr>
		<tr><td id="TPGross"></td><td id="SPGross"></td></tr>
		<tr><th colspan="2">Adjustments to Income:</th></tr>
		<tr class="adjustment"><td id="TPEdExpenses"></td><td id="SPEdExpenses"></td></tr>
		<tr class="adjustment"><td id="TPHSADeduction"></td><td id="SPHSADeduction"></td></tr>
		<tr class="adjustment"><td id="TPSETaxCredit"></td><td id="SPSETaxCredit"></td></tr>
		<tr class="adjustment"><td id="TPSESEP"></td><td id="SPSESEP"></td></tr>
		<tr class="adjustment" id="MFJMFSSEHIRow"><td id="TPSEHI"></td><td id="SPSEHI"></td>
			<td>	<span id="TPSEInsurance" class="hidden"></span>
				<span id="SPSEInsurance" class="hidden"></span></td></tr>
		<tr class="adjustment"><td id="TPSavingsPenalty"></td><td id="SPSavingsPenalty"></td></tr>
		<tr class="adjustment"><td id="TPAlimonyPaid"></td><td id="SPAlimonyPaid"></td></tr>
		<tr class="adjustment"><td id="TPIRADedAvailable"></td><td id="SPIRADedAvailable"></td>
			<td>	<span id="TPIRADeductionJoint" class="hidden"></span>
				<span id="SPIRADeductionJoint" class="hidden"></span>
				<span id="TPIRADeduction" class="hidden"></span>
				<span id="SPIRADeduction" class="hidden"></span></td></tr>
		<tr class="adjustment"><td id="TPSLInterest"></td><td id="SPSLInterest"></td>
			<td>	<span id="TPStudentLoan" class="hidden"></span>
				<span id="SPStudentLoan" class="hidden"></span></td></tr>
		<tr class="adjustment"><td id="TPOtherCredits"></td><td id="SPOtherCredits"></td></tr>
		<tr><td id="TPAdjustments"></td><td id="SPAdjustments"></td></tr>
		<tr><td id="TPAGI"></td><td id="SPAGI"></td></tr>
		<tr style="page-break-before: always;"><th colspan="2">Deductions:</th></tr>
		<tr><td id="TPStandard"></td><td id="SPStandard"></td></tr>
		<tr class="deductions"><td id="TPMedical"></td><td id="SPMedical"></td>
			<td>	<span id="TPActualMedical" class="hidden"></span>
				<span id="SPActualMedical" class="hidden"></span></td></tr>
		<tr class="deductions"><td id="TPTaxesPaid"></td><td id="SPTaxesPaid"></td>
			<td>	<span id="TPSALTTaxesPaid" class="hidden"></span>
				<span id="SPSALTTaxesPaid" class="hidden"></span></td></tr>
		<tr class="deductions"><td id="TPInterestPaid"></td><td id="SPInterestPaid"></td></tr>
		<tr class="deductions"><td id="TPCharityTotal"></td><td id="SPCharityTotal"></td>
			<td>	<span id="TPCharityCash" class="hidden"></span>
				<span id="SPCharityCash" class="hidden"></span>
				<span id="TPCharityNoncash" class="hidden"></span>
				<span id="SPCharityNoncash" class="hidden"></span></td></tr>
		<tr class="deductions"><td id="TPOtherItemized"></td><td id="SPOtherItemized"></td></tr>
		<tr><td id="TPItemized"></td><td id="SPItemized"></td></tr>
		<tr id="MFJMFSQBILine"><td id="TPQBIAmount"></td><td id="SPQBIAmount"></td></tr>
		<tr><td id="TPTotalDeductions"></td><td id="SPTotalDeductions"></td></tr>
		<tr><th colspan="2">Taxable income:</th></tr>
		<tr><td id="TPTaxableAmount"></td><td id="SPTaxableAmount"></td></tr>
		<tr class="tablebreak" style="background-color: black;"><td colspan="2"></td></tr>
		<tr><th colspan="2">Tax:</th></tr>
		<tr><td id="TPTax"></td><td id="SPTax"></td></tr>
		<tr><td id="TPAdditionalTax"></td><td id="SPAdditionalTax"></td></tr>
		<tr><td id="TPPreNRTax"></td><td id="SPPreNRTax"></td></tr>
		<tr><th colspan="2">Nonrefundable Credits:</th></tr>
		<tr><td id="TPForeignUsed"></td><td id="SPForeignUsed"></td>
			<td>	<span id="TPForeignTax" class="hidden"></span>
				<span id="SPForeignTax" class="hidden"></span>
				<span id="TPForeignPaid" class="hidden"></span>
				<span id="SPForeignPaid" class="hidden"></span></td></tr>
		<tr><td id="TPChildCareUsed"></td><td id="SPChildCareUsed"></td>
			<td>	<span id="TPChildCare" class="hidden"></span>
				<span id="SPChildCare" class="hidden"></span>
				<span id="TPCCDependents" class="hidden"></span>
				<span id="SPCCDependents" class="hidden"></span>
				<span id="TPChildCareCost" class="hidden"></span>
				<span id="SPChildCareCost" class="hidden"></span></td></tr>
<!--
		<tr><td id="TPElderlyUsed"></td><td id="SPElderlyUsed"></td>
			<td>	<span id="TPElderly" class="hidden"></span>
				<span id="SPElderly" class="hidden"></span>
				<span id="TPElderlyCost" class="hidden"></span>
				<span id="SPElderlyCost" class="hidden"></span></td></tr>
-->
		<tr><td id="TPEducationUsed"></td><td id="SPEducationUsed"></td>
			<td>	<span id="TPEducation" class="hidden"></span>
				<span id="SPEducation" class="hidden"></span>
				<span id="TPEducationCost" class="hidden"></span>
				<span id="SPEducationCost" class="hidden"></span></td></tr>
		<tr><td id="TPRetirementUsed"></td><td id="SPRetirementUsed"></td>
			<td>	<span id="TPRetirement" class="hidden"></span>
				<span id="SPRetirement" class="hidden"></span>
				<span id="TPRetirementCost" class="hidden"></span>
				<span id="SPRetirementCost" class="hidden"></span></td></tr>
		<tr><td id="TPCTCreditUsed"></td><td id="SPCTCreditUsed"></td>
			<td>	<span id="TPCTCredit" class="hidden"></span>
				<span id="SPCTCredit" class="hidden"></span></td></tr>
		<tr><td id="TPResidentialUsed"></td><td id="SPResidentialUsed"></td>
			<td>	<span id="TPResidenceEnergy" class="hidden"></span>
				<span id="SPResidenceEnergy" class="hidden"></span></td></tr>
		<tr><td id="TPNonrefundable"></td><td id="SPNonrefundable"></td></tr>
		<tr><td id="TPTaxPostCredits"></td><td id="SPTaxPostCredits"></td></tr>
		<tr><th colspan="2">Other Taxes:</th></tr>
		<tr><td id="TPSETax"></td><td id="SPSETax"></td></tr>
		<tr id="MFJMFSNIITRow"><td id="NIITTax class="wktc"></td><td id="SPNIITTax"></td>
			<td>	<span id="TPNIITExpenses" class="hidden"></span>
				<span id="SPNIITExpenses" class="hidden"></span></td></tr>
		<tr><td id="TPOtherTaxes"></td><td id="SPOtherTaxes"></td></tr>
		<tr><td id="TPTotalTax"></td><td id="SPTotalTax"></td></tr>
		<tr><th colspan="2">Refundable Credits:</th></tr>
		<tr><td id="TPEICCredit"></td><td id="SPEICCredit"></td></tr>
		<tr><td id="TPACTCredit"></td><td id="SPACTCredit"></td></tr>
		<tr><td id="TPAOCCredit"></td><td id="SPAOCCredit"></td></tr>
		<tr><td id="TPRefundable"></td><td id="SPRefundable"></td></tr>
		<tr><td id="TPTaxDue"></td><td id="SPTaxDue"></td></tr>
		<tr class="tablebreak" style="background-color: black;"><td colspan="2"></td></tr>
	</table>
		<br />
	<div id="MFJMFSResults">
		<center>
		<b>Filing Comparison:</b>
		<br /><br />
		<table id="MFJMFSResultsTable">
			<tr><td>MFJ</td><td>&nbsp;=&nbsp;</td><td id="MFJResult"></td></tr>
			<tr><td>MFS</td><td>&nbsp;=&nbsp;</td><td id="MFSResult"></td></tr>
			<tr><td>Diff</td><td>&nbsp;=&nbsp;</td><td id="DiffResult"></td></tr>
		</table>
		<br />
		<b><span id="TextResult"></span></b>
		<br />&nbsp;
	</center>

	</div> <!-- MFJMFSResults -->
</div> <!-- MFSInfo -->

<div id="Footnotes" class="grid-item">
	&sup1; HSA limit can be $1,000 higher per person over age 55;
	<br />&sup2; IRA limit can be $1,000 higher per person over age 50 but not more than earned income;
	<!-- <br />Amount of additional income before filing a return is required (e.g. Max IRA distribution)
	<span id="MaxIRA" class="floatright">?</span> -->
</div>

<div id="About" class="noPrint grid-item">
	Please send corrections and suggestions to
	<a href="mailto:core.webmaster0@gmail.com">tools@cotaxaide.org</a>
	<span id="printbutton2" style="float: right;"><button onclick="window.print()">Print a taxpayer copy</button></span>
</div>
</div> <!-- gridContainer> -->

<div id="MFSContainer">
<div id="MFSInputBox">
	<center>
		<span id="MFSInputId" class="hidden"></span>
		<span id="MFSInputTitle"></span>
		<br /><br />
		<table id="MFSInputTable">
			<tr><td>Taxpayer:</td><td><input type="text" id="TPInput" 
				onkeyup="MFJMFS_Test(this.id);" /></td></tr>
			<tr><td>Spouse:</td><td><input type="text" id="SPInput"
				onkeyup="MFJMFS_Test(this.id);" /></td></tr>
		</table>
		<input id="MFSallowNegative" type="checkbox" class="hidden" />
		<br />
		(If joint, enter amount in TP space and click JOINT)
		<br />
		<button id="JOINTButton" onclick="Do_Joint()">JOINT</button>
		<button id="SAVEButton" onclick="Do_Inputs('MFJMFS')">SAVE</button>
	</center>
</div>
</div>

<div id="EdContainer">
<div id="EdInputBox">
	<center>
		<span id="EdInputTitle"></span>
		<br /><br />
		Enter the amount you spent on qualified expenses for each student:
		<table id="EdInputTable">
			<tr><td>#1:
				<input type="radio" id="Ed1AOC" name="EdS1" checked />AOC
				<input type="radio" id="Ed1LLC" name="EdS1" />LLC</td>
				<td><input type="text" id="Ed1Cost" /></td></tr>
			<tr><td>#2:
				<input type="radio" id="Ed2AOC" name="EdS2" checked />AOC
				<input type="radio" id="Ed2LLC" name="EdS2" />LLC</td>
				<td><input type="text" id="Ed2Cost" /></td></tr>
			<tr><td>#3:
				<input type="radio" id="Ed3AOC" name="EdS3" checked />AOC
				<input type="radio" id="Ed3LLC" name="EdS3" />LLC</td>
				<td><input type="text" id="Ed3Cost" /></td></tr>
		</table>
		<button onclick="Do_Inputs('Education')">SAVE</button>
	</center>
</div>
</div>

</body>

<script type="text/javascript"> _GetIRSData(_StartYear, _StopYear + 1); </script>

</html>
